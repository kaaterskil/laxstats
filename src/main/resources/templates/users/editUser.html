<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="officeLayout">
<head></head>
<body>
	<div layout:fragment="content">
		<div class="row">
			<div class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
				<h1>Edit User</h1>
				<form action="#"
					  id="edit-user-form"
					  name="edit-user-form"
					  th:action="@{'/admin/users/' + ${userId}}"
					  th:method="put"
					  th:object="${userForm}"
					  role="form">
					  
					<div class="row">
						<div class="col-sm-6 form-group checkbox">
							<label for="enabled">
								<input type="checkbox"
									   id="enabled"
									   th:field="*{enabled}" />
								<strong>Enabled?</strong>
							</label>
						</div>
					</div>  
					  
					<div class="row">
						<div class="col-sm-4 form-group required">
							<label for="role">Role</label>
							<select id="role"
									class="form-control"
									required="required"
									aria-required="true"
									aria-describedby="role-error"
									th:field="*{role}">
								<option value="">Select...</option>
								<option th:each="opt : *{roles}"
										th:value="${opt}"
										th:text="${opt.label}">Roles</option>
							</select>
							<div th:if="${#fields.hasErrors('role')}" 
								 id="role-error"
								 class="lax-error" 
								 th:errors="*{role}">Invalid role</div>
						</div>
						<div class="col-sm-8 form-group">
							<label for="team">Team</label>
							<select id="team"
									class="form-control"
									th:field="*{teamId}"
									aria-describedby="team-error">
								<option value="">Select...</option>
								<optgroup th:each="group : *{teams.entrySet()}" 
										  th:label="${group.getKey().label}">
									<option th:each="opt : ${group.getValue()}" 
											th:value="${opt.id}" 
											th:text="${opt.getTitle()}">Teams</option>
								</optgroup>
							</select>
							<div th:if="${#fields.hasErrors('teamId')}" 
								 id="team-error"
								 class="lax-error" 
								 th:errors="*{teamId}">Invalid team</div>
						</div>
					</div>
					
					
					<div class="row">
						<div class="col-sm-6 form-group">
							<label for="first-name">First Name</label>
							<input type="text"
								   id="first-name"
								   class="form-control"
								   maxlength="20"
								   aria-describedby="first-name-error"
								   th:field="*{firstName}" />
							<div th:if="${#fields.hasErrors('firstName')}" 
								 id="first-name-error"
								 class="lax-error" 
								 th:errors="*{firstName}">Invalid first name</div>
						</div>
						<div class="col-sm-6 form-group required">
							<label for="last-name">Last Name</label>
							<input type="text"
								   id="last-name"
								   class="form-control"
								   maxlength="30"
								   required="required"
								   aria-required="true"
								   aria-describedby="last-name-error"
								   th:field="*{lastName}" />
							<div th:if="${#fields.hasErrors('lastName')}" 
								 id="last-name-error"
								 class="lax-error" 
								 th:errors="*{lastName}">Invalid last name</div>
						</div>
					</div>
						
					<div class="row">
						<div class="col-sm-6 form-group required">
							<label for="email">Email</label>
							<input type="email"
								   id="email"
								   class="form-control"
								   required="required"
								   aria-required="true"
								   aria-describedby="email-error"
								   th:field="*{email}" />
							<div th:if="${#fields.hasErrors('email')}" 
								 id="email-error"
								 class="lax-error" 
								 th:errors="*{email}">Invalid email</div>
						</div>
						<div class="col-sm-6 form-group">
							<label for="password">Password</label>
							<input type="password"
								   id="password"
								   class="form-control"
								   aria-describedby="password-error"
								   th:field="*{password}" />
							<div th:if="${#fields.hasErrors('password')}" 
								 id="password-error"
								 class="lax-error" 
								 th:errors="*{password}">Invalid password</div>
						</div>
					</div>
					<button type="submit" class="btn btn-default">Update</button>
				</form>
			</div>
		</div>
	</div>
</body>
</html>